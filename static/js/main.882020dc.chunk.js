(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,a){e.exports=a(471)},210:function(e,t,a){},266:function(e,t){},268:function(e,t){},300:function(e,t){},469:function(e,t,a){},471:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(9),l=a.n(i),o=(a(210),a(36)),r=a(37),s=a(40),_=a(38),b=a(39),d=(a(212),a(203)),u=(a(216),a(10)),y=(a(219),a(90)),f=a(24),p=(a(93),a(201)),k=(a(226),a(91)),g=a(69),h=a.n(g),m=a(190),x=a.n(m),E=(a(330),a(202)),v=(a(189),a(89)),j=(a(347),a(128)),w=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(E.a,{width:"50%",closable:!1,onClose:this.props.handleCloseInfo,visible:this.props.info_visible},c.a.createElement(j.a,null,"\u4e00\u3001\u62bc\u6ce8\u8bf4\u660e"),c.a.createElement(v.a,{columns:[{title:"\u62bc\u6ce8\u6807\u8bc6\u7b26",dataIndex:"bet_flag",key:"bet_flag",width:"25%"},{title:"\u62bc\u6ce8\u6807\u8bc6(key)",dataIndex:"bet_key",key:"bet_key",width:"25%"},{title:"\u8bf4\u660e",dataIndex:"bet_explain",key:"bet_explain",width:"50%"}],dataSource:[{key:"1",bet_flag:"odd",bet_key:"0",bet_explain:"\u5355"},{key:"2",bet_flag:"even",bet_key:"1",bet_explain:"\u53cc"},{key:"3",bet_flag:"big",bet_key:"2",bet_explain:"\u5927"},{key:"4",bet_flag:"small",bet_key:"3",bet_explain:"\u5c0f"},{key:"5",bet_flag:"dice_110",bet_key:"110",bet_explain:"\u5bf9\u5b50-1\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u51fa\u73b0\u4e24\u4e2a1\uff09"},{key:"6",bet_flag:"dice_220",bet_key:"220",bet_explain:"\u5bf9\u5b50-2\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u51fa\u73b0\u4e24\u4e2a2\uff09"},{key:"7",bet_flag:"dice_330",bet_key:"330",bet_explain:"\u5bf9\u5b50-3\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u51fa\u73b0\u4e24\u4e2a3\uff09"},{key:"8",bet_flag:"dice_440",bet_key:"440",bet_explain:"\u5bf9\u5b50-4\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u51fa\u73b0\u4e24\u4e2a4\uff09"},{key:"9",bet_flag:"dice_550",bet_key:"550",bet_explain:"\u5bf9\u5b50-5\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u51fa\u73b0\u4e24\u4e2a5\uff09"},{key:"10",bet_flag:"dice_660",bet_key:"660",bet_explain:"\u5bf9\u5b50-6\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u51fa\u73b0\u4e24\u4e2a6\uff09"},{key:"11",bet_flag:"dice_111",bet_key:"111",bet_explain:"\u56f4\u9ab0-1\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u90fd\u662f1\uff09"},{key:"12",bet_flag:"dice_222",bet_key:"222",bet_explain:"\u56f4\u9ab0-2\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u90fd\u662f2\uff09"},{key:"13",bet_flag:"dice_333",bet_key:"333",bet_explain:"\u56f4\u9ab0-3\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u90fd\u662f3\uff09"},{key:"14",bet_flag:"dice_444",bet_key:"444",bet_explain:"\u56f4\u9ab0-4\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u90fd\u662f4\uff09"},{key:"15",bet_flag:"dice_555",bet_key:"555",bet_explain:"\u56f4\u9ab0-5\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u90fd\u662f5\uff09"},{key:"16",bet_flag:"dice_666",bet_key:"666",bet_explain:"\u56f4\u9ab0-6\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u90fd\u662f6\uff09"},{key:"17",bet_flag:"dice_123456",bet_key:"123456",bet_explain:"\u5168\u56f4\uff08\u4e09\u4e2a\u9ab0\u5b50\u70b9\u6570\u76f8\u540c\uff09"},{key:"18",bet_flag:"dice_4",bet_key:"4",bet_explain:"\u70b9\u6570\u548c-4"},{key:"19",bet_flag:"dice_5",bet_key:"5",bet_explain:"\u70b9\u6570\u548c-5"},{key:"20",bet_flag:"dice_6",bet_key:"6",bet_explain:"\u70b9\u6570\u548c-6"},{key:"21",bet_flag:"dice_7",bet_key:"7",bet_explain:"\u70b9\u6570\u548c-7"},{key:"22",bet_flag:"dice_8",bet_key:"8",bet_explain:"\u70b9\u6570\u548c-8"},{key:"23",bet_flag:"dice_9",bet_key:"9",bet_explain:"\u70b9\u6570\u548c-9"},{key:"24",bet_flag:"dice_10",bet_key:"10",bet_explain:"\u70b9\u6570\u548c-10"},{key:"25",bet_flag:"dice_11",bet_key:"11",bet_explain:"\u70b9\u6570\u548c-11"},{key:"26",bet_flag:"dice_12",bet_key:"12",bet_explain:"\u70b9\u6570\u548c-12"},{key:"27",bet_flag:"dice_13",bet_key:"13",bet_explain:"\u70b9\u6570\u548c-13"},{key:"28",bet_flag:"dice_14",bet_key:"14",bet_explain:"\u70b9\u6570\u548c-14"},{key:"29",bet_flag:"dice_15",bet_key:"15",bet_explain:"\u70b9\u6570\u548c-15"},{key:"30",bet_flag:"dice_16",bet_key:"16",bet_explain:"\u70b9\u6570\u548c-16"},{key:"31",bet_flag:"dice_17",bet_key:"17",bet_explain:"\u70b9\u6570\u548c-17"},{key:"32",bet_flag:"dice_102",bet_key:"102",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b01\u30012\u70b9"},{key:"33",bet_flag:"dice_103",bet_key:"103",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b01\u30013\u70b9"},{key:"34",bet_flag:"dice_104",bet_key:"104",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b01\u30014\u70b9"},{key:"35",bet_flag:"dice_105",bet_key:"105",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b01\u30015\u70b9"},{key:"36",bet_flag:"dice_106",bet_key:"106",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b01\u30016\u70b9"},{key:"37",bet_flag:"dice_203",bet_key:"203",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b02\u30013\u70b9"},{key:"38",bet_flag:"dice_204",bet_key:"204",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b02\u30014\u70b9"},{key:"39",bet_flag:"dice_205",bet_key:"205",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b02\u30015\u70b9"},{key:"40",bet_flag:"dice_206",bet_key:"206",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b02\u30016\u70b9"},{key:"41",bet_flag:"dice_304",bet_key:"304",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b03\u30014\u70b9"},{key:"42",bet_flag:"dice_305",bet_key:"305",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b03\u30015\u70b9"},{key:"43",bet_flag:"dice_306",bet_key:"306",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b03\u30016\u70b9"},{key:"44",bet_flag:"dice_405",bet_key:"405",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b04\u30015\u70b9"},{key:"45",bet_flag:"dice_406",bet_key:"406",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b04\u30016\u70b9"},{key:"46",bet_flag:"dice_506",bet_key:"506",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b05\u30017\u70b9"},{key:"47",bet_flag:"dice_100",bet_key:"100",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b01\u70b9"},{key:"48",bet_flag:"dice_200",bet_key:"200",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b02\u70b9"},{key:"49",bet_flag:"dice_300",bet_key:"300",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b03\u70b9"},{key:"50",bet_flag:"dice_400",bet_key:"400",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b04\u70b9"},{key:"51",bet_flag:"dice_500",bet_key:"500",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b05\u70b9"},{key:"52",bet_flag:"dice_600",bet_key:"600",bet_explain:"\u4e09\u4e2a\u9ab0\u5b50\u51fa\u73b06\u70b9"}],pagination:!1,style:{backgroundColor:"#efefef"}}),c.a.createElement(j.a,null,"\u4e8c\u3001 memo\u683c\u5f0f"),c.a.createElement("p",null,"r:\u63a8\u8350\u4eba\u8d26\u53f7;u:uuid;\u62bc\u6ce8\u6807\u8bc6:\u62bc\u6ce8\u91d1\u989d"),c.a.createElement("p",null,'("\u63a8\u8350\u4eba\u8d26\u53f7"\u548c"\u62bc\u6ce8\u6807\u8bc6"\u4e4b\u95f4\u7684\u662f\u82f1\u6587\u5206\u53f7\uff0c"\u62bc\u6ce8\u6807\u8bc6"\u548c"\u62bc\u6ce8\u91d1\u989d"\u4e4b\u95f4\u7684\u662f\u82f1\u6587\u5192\u53f7)'),c.a.createElement("p",null,"----------------------------------------------------------------------------------------------"),c.a.createElement("p",null,"\u4f8b\u5b501\u3001\u62bc\u5927\uff0c\u91d1\u989d\u4e3a2.5000 EOS\uff0c\u63a8\u8350\u4eba\u8d26\u53f7\u662faaaabbbb2222\uff0cuuid\u4e3a3315f8ee-c212-41b0-9e8e-ce3ca00f024e\uff1a"),c.a.createElement("p",null,"r:aaaabbbb2222;u:3315f8ee-c212-41b0-9e8e-ce3ca00f024e;2:250000"),c.a.createElement("p",null,"----------------------------------------------------------------------------------------------"),c.a.createElement("p",null,"\u4f8b\u5b502\u3001\u62bc0.6000 EOS\u5168\u56f4\uff0c\u4ee5\u53ca\u62bc2.0000 EOS \u53cc\uff0c\u65e0\u63a8\u8350\u4eba\uff0cuuid\u4e3a3315f8ee-c212-41b0-9e8e-ce3ca00f024e\uff1a"),c.a.createElement("p",null,"u:3315f8ee-c212-41b0-9e8e-ce3ca00f024e;123456:6000;1:20000"),c.a.createElement("p",null,"----------------------------------------------------------------------------------------------"),c.a.createElement("p",null,"\u6ce8\uff1a"),c.a.createElement("p",null,'a. uuid\u662f\u5fc5\u987b\u7684\uff0c\u957f\u5ea6\u4e3a36\u7684\u5b57\u7b26\u4e32\uff0c\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528"uuid-js"\u5e93'),c.a.createElement("p",null,"b. uuid-js: https://www.npmjs.com/package/uuid-js"),c.a.createElement("p",null,"c. \u5982\u679c\u524d\u7aef\u4f7f\u7528\u7684uuid\u4e0d\u662f\u957f\u5ea6\u4e3a36\u7684\u5b57\u7b26\u4e32\uff0c\u8bf7\u544a\u77e5\uff0c\u6211\u4eec\u9700\u8981\u540c\u6b65\u4fee\u6539\u5408\u7ea6")))}}]),t}(n.Component),S={blockchain:"eos",protocol:"http",host:"junglehistory.cryptolions.io",port:18888,chainId:"038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca"},O="dicecontract",I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(_.a)(t).call(this,e))).fetchRecord=function(){a.eosjs.getActions(O,-1,-90).then(function(e){for(var t=e.actions,n=20,c=[],i=t.length-1;i>=0&&n>0;i--)t[i].action_trace&&t[i].action_trace.act&&t[i].action_trace.act.account===O&&"result"===t[i].action_trace.act.name&&t[i].action_trace.act.data&&t[i].action_trace.act.data.res&&t[i].action_trace.receipt&&t[i].action_trace.receipt.receiver===O&&(c.push({key:i,player:t[i].action_trace.act.data.res.player,payin:t[i].action_trace.act.data.res.payin,payout:t[i].action_trace.act.data.res.payout,payed:t[i].action_trace.act.data.res.payed?"true":"false",dices:t[i].action_trace.act.data.res.dice.dice1+"\u3001"+t[i].action_trace.act.data.res.dice.dice2+"\u3001"+t[i].action_trace.act.data.res.dice.dice3,detail:t[i].action_trace.act.data.res.detail}),n--);a.setState({data_reveals:c}),setTimeout(a.fetchRecord,2e3)}).catch(function(e){console.error(e),a.fetchRecord()})},a.componentDidMount=function(){a.eosjs=h()({httpEndpoint:"".concat(S.protocol,"://").concat(S.host,":").concat(S.port),chainId:S.chainId}),a.fetchRecord()},a.state={data_reveals:[]},a.eosjs=null,a.fetchRecord=a.fetchRecord.bind(Object(f.a)(Object(f.a)(a))),a}return Object(b.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(v.a,{loading:this.state.data_reveals.length<=0,columns:[{key:"player",dataIndex:"player",title:"Player",align:"center",width:"20%"},{key:"payin",dataIndex:"payin",title:"Payin",align:"center",width:"15%"},{key:"payout",dataIndex:"payout",title:"Payout",align:"center",width:"15%"},{key:"payed",dataIndex:"payed",title:"Payed",align:"center",width:"10%"},{key:"dices",dataIndex:"dices",title:"Dices",align:"center",width:"15%"},{key:"detail",dataIndex:"detail",title:"Detail",align:"center",width:"25%"}],dataSource:this.state.data_reveals,pagination:!1,style:{maxHeight:"720px",width:"1080px",margin:"auto",backgroundColor:"#efefef"}}))}}]),t}(n.Component),R=(a(469),k.a.Header),C=k.a.Content,B=p.a.Search,N={blockchain:"eos",protocol:"http",host:"junglehistory.cryptolions.io",port:18888,chainId:"038f4b0fc8ff18a4f0842a8f0564611f6e96e8535901dd45e43ac8691a1c4dca"},M="dicecontract",L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(_.a)(t).call(this,e))).init=function(){a.eosjs=h()({httpEndpoint:"".concat(N.protocol,"://").concat(N.host,":").concat(N.port),chainId:N.chainId}),document.addEventListener("scatterLoaded",function(e){if(a.scatter=window.scatter,window.scatter=null,a.scatter&&a.scatter.identity){var t=a.scatter.identity.accounts.find(function(e){return"eos"===e.blockchain});a.setState({player_account:t.name}),a.setState({is_login:!0}),a.getPlayerAsset()}})},a.playerLoginLogout=function(){null!==a.scatter?a.state.is_login&&a.scatter&&a.scatter.identity?a.scatter.forgetIdentity().then(function(){a.setState({is_login:!1}),a.setState({player_account:"Login"}),a.setState({player_asset:{eos:"0.0000 EOS"}})}):a.state.is_login||!a.scatter||a.scatter.identity||a.scatter.getIdentity({accounts:[N]}).then(function(){var e=a.scatter.identity.accounts.find(function(e){return"eos"===e.blockchain});a.setState({player_account:e.name}),a.setState({is_login:!0}),a.getPlayerAsset()}):y.a.info("Must Install Scatter First")},a.getPlayerAsset=function(){a.state.is_login&&"Login"!==a.state.player_account&&a.eosjs.getTableRows({json:!0,code:"eosio.token",scope:a.state.player_account,table:"accounts"}).then(function(e){if(a.state.is_login&&e.rows[0]){var t=a.state.player_asset;t.eos=e.rows[0].balance,a.setState({player_asset:t})}}).catch(function(e){console.error(e)})},a.getReferrer=function(){var e=new RegExp("(^|&)ref=([^&]*)(&|$)"),t=window.location.search.substr(1).match(e);null!==t&&a.setState({referrer:unescape(t[2])})},a.inputQuantityChange=function(e){isNaN(e)||e.length<=0?console.log("null"):(console.log(e),a.bet_quantity=e)},a.inputMemoChange=function(e,t){if(t.preventDefault(),e.length<=0)console.log("null");else if(console.log(e),a.state.is_login&&"Login"!==a.state.player_account){var n=x.a.create().toString();e=e+";u:"+n,"Null"!=a.state.referrer&&(e=e+";r:"+a.state.referrer),a.scatter.eos(N,h.a,{}).transfer({from:a.state.player_account,to:M,quantity:Number(a.bet_quantity).toFixed(4)+" EOS",memo:e}).then(function(e){y.a.success("SicBo Bet Success"),a.getSicBoResult(n),a.dice_shaking=setInterval(function(){a.setState({dice_result:{dice1:Math.floor(5*Math.random()+1),dice2:Math.floor(5*Math.random()+1),dice3:Math.floor(5*Math.random()+1)}})},150)}).catch(function(e){console.error(e),y.a.error("SicBo Bet Fail")})}},a.getSicBoResult=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.pow(2,52);a.eosjs.getActions(a.state.player_account,-1,-20).then(function(n){for(var c=n.actions,i=t,l=c.length-1;l>=0;l--){var o=c[l].account_action_seq;if(o<=t){a.getSicBoResult(e,o);break}if(c[l].action_trace&&c[l].action_trace.act&&c[l].action_trace.act.account===M&&"result"===c[l].action_trace.act.name&&c[l].action_trace.act.data&&c[l].action_trace.act.data.res&&c[l].action_trace.act.data.res.uid===e&&c[l].action_trace.act.data.res.player===a.state.player_account){clearInterval(a.dice_shaking);var r=c[l].action_trace.act.data.res;a.setState({dice_result:{dice1:r.dice.dice1,dice2:r.dice.dice2,dice3:r.dice.dice3}}),c[l].action_trace.act.data.res.payed||alert("sorry, we will payout to u later, remember uid: "+e);break}}l<0&&a.getSicBoResult(e,i)})},a.showInfo=function(){a.setState({info_visible:!0})},a.closeInfo=function(){a.setState({info_visible:!1})},a.state={player_asset:{eos:"0.0000 EOS"},dice_result:{dice1:"X",dice2:"X",dice3:"X"},is_login:!1,player_account:"Login",referrer:"Null",info_visible:!1},a.bet_quantity=null,a.eosjs=null,a.scatter=null,a.init=a.init.bind(Object(f.a)(Object(f.a)(a))),a.getReferrer=a.getReferrer.bind(Object(f.a)(Object(f.a)(a))),a.getPlayerAsset=a.getPlayerAsset.bind(Object(f.a)(Object(f.a)(a))),a.getSicBoResult=a.getSicBoResult.bind(Object(f.a)(Object(f.a)(a))),a}return Object(b.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.init(),this.getReferrer()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(k.a,{className:"layout"},c.a.createElement(R,null,c.a.createElement("a",{href:"#",onClick:this.playerLoginLogout.bind(this),className:"login-logout"},!0===this.state.is_login?c.a.createElement("span",null,c.a.createElement(u.a,{type:"user"})," ",this.state.player_account):c.a.createElement("span",null,c.a.createElement(u.a,{type:"login"})," ",this.state.player_account)),c.a.createElement("span",{className:"player-asset"},"Asset: ",this.state.player_asset.eos),c.a.createElement("span",{className:"referrer"},"\xa0\xa0\xa0\xa0Referrer: ",this.state.referrer),c.a.createElement("a",{href:"#",className:"info",onClick:this.showInfo.bind(this)},c.a.createElement(u.a,{type:"smile"})," Info")),c.a.createElement(C,null,c.a.createElement("div",{className:"sicbo-result"},"SicBo Result"),c.a.createElement("div",{className:"dice-result"},c.a.createElement("span",null,this.state.dice_result.dice1),c.a.createElement("span",null," \u3001 ",this.state.dice_result.dice2),c.a.createElement("span",null," \u3001 ",this.state.dice_result.dice3)),c.a.createElement("div",{className:"input-memo"},c.a.createElement(d.a,{placeholder:"quantity",step:.5,onChange:this.inputQuantityChange.bind(this)}),c.a.createElement(B,{placeholder:"r:referrer;key:quantity",onSearch:this.inputMemoChange.bind(this),enterButton:"Let's Go"}),c.a.createElement("span",{style:{fontSize:"0.5em"}}," \u6ce8: \u7b2c\u4e00\u4e2a\u6846\u8f93\u5165\u603b\u91d1\u989d\uff0c\u7b2c\u4e8c\u4e2a\u6846\u8f93\u5165memo")),c.a.createElement(I,null),c.a.createElement(w,{info_visible:this.state.info_visible,handleCloseInfo:this.closeInfo.bind(this)}))))}}]),t}(n.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(L,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[205,2,1]]]);
//# sourceMappingURL=main.882020dc.chunk.js.map